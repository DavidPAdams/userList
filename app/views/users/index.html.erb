<h1><%= link_to "Users", users_path %></h1>
<a href='/users/new' data-toggle="modal" data-target="#newUserModal" class="btn btn-primary btn-sm">Add New User</a>

<div class="form-group">
  <%= form_with(url: users_path, method: "get") do %>
    <%= label_tag :query, "Filter by Name / Email:" %>
    <%= text_field_tag :query, params[:query] %>
    <%= submit_tag "Search", class: "btn btn-success btn-sm" %>
  <% end %>
</div>

<div id="usersList">
  <%= render 'userList' %>
</div>

<div class="modal fade" id="newUserModal" tabindex="-1" role="dialog" aria-labelledby="newUserModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="newUserModalLabel">Add New User</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <%= form_with(model: @user, remote: true) do |form| %>
          <%= render 'form_fields', form: form %>
        <% end %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editUserModalLabel">
</div>
